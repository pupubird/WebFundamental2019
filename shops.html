<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta id="themeColor" name="theme-color" content="#1E2A78">
        <title id="title">CheapDrugs | Home</title>
        <link rel="stylesheet" href="css/indexPage.css">
        <link rel="stylesheet" href="util/UIComponent.css">
        <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/navbar.css">
        <link rel="stylesheet" href="shops.css">
        <!-- critical loading material, to prevent unstyled loading circle due to fetch from network, use embbed styling method -->
        <style>
        .loading {
            display: block;
            width: 80px;
            height: 80px;
            position: fixed;
            top: calc(50vh - 40px);
            left: calc(50vw - 40px);
            border-radius: 50%;
            border: 6px solid;
            border-color: rgb(218, 184, 36) #1E2A78 #FF1F5A transparent;
            animation: loadingSpin 8s linear infinite;
        }

        @keyframes loadingSpin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    </head>

    <body onload="loadStateJs();">
        <div class="navbar-padding"></div>
        <nav class="navbar">
            <div class="navbar-left">
                <a onclick="loadHomePage();">
                    <img class="logo" src="assets/logo.png" alt="logo">
                </a>
                <ul class="navbar-tab">
                    <li><a onclick="loadHomePage();" class="action-call-font
                            paragraph-font-color
                            s-font-size underline navbar-tab-link">home</a></li>
                    <li><a onclick="loadShopsPage();" class="action-call-font
                            paragraph-font-color
                            s-font-size navbar-tab-link">shops</a></li>
                    <li><a onclick="loadCartPage();" class="action-call-font
                            paragraph-font-color
                            s-font-size navbar-tab-link">cart</a></li>
                    <li><a onclick="loadAboutPage();" class="action-call-font
                            paragraph-font-color
                            s-font-size navbar-tab-link">about</a></li>
                </ul>
            </div>
            <div class="center-horizontal">
                <div class="navbar-right">
                    <a onclick="loadLoginSignupPage();" class="medium-button
                        primary-color action-call-font navbar-tab-link">LOGIN/SIGNUP</a>
                </div>
                <div class="ham-burger" onclick="expandSideNav();">
                    <div class="ham-burger-line"></div>
                    <div class="ham-burger-line"></div>
                    <div class="ham-burger-line"></div>
                </div>
            </div>
        </nav>
        <!-- side nav for mobile view -->
        <div class="mobile-side-nav center-vertical m-font-size
            action-call-font">
            <a href="#" class="tertiary-color">&#10007;</a>
            <a href="#" onclick="loadHomePage();" class="primary-color
                underline mobile-navbar-tab-link">home</a>
            <a href="#" onclick="loadShopsPage();" class="primary-color
                mobile-navbar-tab-link">shops</a>
            <a href="#" onclick="loadCartPage();" class="primary-color
                mobile-navbar-tab-link">cart</a>
            <a href="#" onclick="loadAboutPage();" class="primary-color
                mobile-navbar-tab-link">about</a>
        </div>
        <div class="loading" id="loadingDiv"></div>
        <div class="content-wrapper">
            <div class="center-vertical">
                <div class="shops-container">
                    <h1 class="header-font header-font-color m-font-size">Shops</h1>
                    <!-- mobile expand accordion -->
                    <div class="category">
                        <div onclick="categoryAccordion();"
                            class="mobile-category-accordion">
                            <div class="dropdown-wrapper">
                                <p class="action-call-font s-font-size
                                    paragraph-font-color">Filter</p>
                            </div>
                        </div>
                        <div class="category-list">
                            <!-- category -->
                            <div class="dropdown-wrapper">
                                <select class="dropdown s-font-size">
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">party
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">personal
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">cuisine-uses
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">medicine
                                        </p>
                                    </option>
                                </select>
                            </div>
                            <!-- sort by -->
                            <div class="dropdown-wrapper">
                                <select class="dropdown s-font-size">
                                    <option>
                                        <p href="#" class="action-call-font
                                            sub-header-font-color s-font-size">Sort
                                            by:
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Rating
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Price
                                            low to high
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Price
                                            high to low
                                        </p>
                                    </option>
                                </select>
                            </div>
                            <!-- type -->
                            <div class="dropdown-wrapper">
                                <select class="dropdown s-font-size">
                                    <option>
                                        <p href="#" class="action-call-font
                                            sub-header-font-color s-font-size">Type:
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Powder
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Needle
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">Pill
                                        </p>
                                    </option>
                                </select>
                            </div>
                            <!-- price -->
                            <div class="dropdown-wrapper">
                                <select class="dropdown s-font-size">
                                    <option>
                                        <p href="#" class="action-call-font
                                            sub-header-font-color s-font-size">Price
                                            Range:
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">$10
                                            to $200
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">$200
                                            to $300
                                        </p>
                                    </option>
                                    <option>
                                        <p class="action-call-font
                                            sub-header-font-color s-font-size">$300
                                            and above
                                        </p>
                                    </option>
                                </select>
                            </div>
                            <!-- filter button -->
                            <button class="medium-button
                                tertiary-color">FILTER</but>
                        </div>
                    </div>
                    <script>
                        let isExpand = true;
                        let categoryList = document.querySelector('.category-list');
                        let categoryListDropdowns = document.querySelectorAll('.category-list > *');
                        let height;
                        function categoryAccordion(){
                            if(isExpand){

                                // show div
                                categoryList.style.display = 'flex';
                                categoryList.style.height = 'auto';
                                height = categoryList.offsetHeight;
                                categoryList.style.height = '0px';
                                //show item
                                setTimeout(() => {
                                    categoryList.style.opacity = '1';
                                    categoryList.style.height = height + 'px';
                                }, 25);
                                setTimeout(()=>{
                                    categoryListDropdowns.forEach(dropdown => {
                                        dropdown.style.opacity = '1';
                                    })
                                },100)


                            }else{

                                // remove item
                                categoryList.style.opacity = '0';
                                categoryListDropdowns.forEach(dropdown => {
                                    dropdown.style.opacity = '0';
                                })
                                setTimeout(() => {
                                    categoryList.style.height = '0px';
                                }, 100);
                                // remove div
                                setTimeout(()=>{
                                    categoryList.style.display = 'none';
                                },300);
                            }

                            
                            isExpand = !isExpand;
                        }
                    </script>
                    <!-- end of filter -->
                    <!-- Content -->
                    <div class="items-container">
                        <div class="expand-item">
                            <div class="expand-item-header">
                                <h1 class="sub-header-font m-font-size">ecstasy</h1>
                                <img src="assets/stock1.jpg" alt="stock1"
                                    class="expand-item-image">
                            </div>
                            <div class="expand-item-description">
                                <p class="paragraph-font xs-font-size">Lorem
                                    ipsum dolor sit amet, consectetur adipiscing
                                    elit. <span class="hide-on-mobile">Nam
                                        molestie sit amet turpis sit amet
                                        iaculis. Quisque
                                        ante
                                        orci, imperdiet non ornare at, suscipit
                                        sed
                                        quam. Orci varius natoque penatibus et
                                        magnis dis parturient montes,
                                        nascetur ridiculus mus. Praesent mollis</span><a
                                        href="#" class="show-on-mobile
                                        tertiary-color action-call-font">read
                                        more</a></p>
                                <hr>
                                <div class="social-media-group">
                                    <img src="assets/fb.png" alt="facebook"
                                        class="social-icon">
                                    <img src="assets/ig.png" alt="instagram"
                                        class="social-icon">
                                    <img src="assets/twitter.png" alt="twitter"
                                        class="social-icon">
                                </div>
                                <div class="expand-item-description-buttons">
                                    <button class="medium-button">view</button>
                                    <button class="medium-button
                                        secondary-highlight-button">+cart
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div></div>
                        <div class="collapsedItemsDiv">
                            <div class="collapsedItems">
                                <div class="collapsed-item-card">
                                    <h1 class="sub-header-font s-font-size">ecstasy</h1>
                                    <img src="assets/stock2.jpg" alt="stock2"
                                        class="collapsed-item-card-image">
                                    <p class="paragraph-font xs-font-size">RM
                                        1.00</p>
                                </div>
                                <div class="collapsed-item-card">
                                    <h1 class="sub-header-font s-font-size">ecstasy</h1>
                                    <img src="assets/stock2.jpg" alt="stock2"
                                        class="collapsed-item-card-image">
                                    <p class="paragraph-font xs-font-size">RM
                                        1.00</p>
                                </div>
                                <div class="collapsed-item-card">
                                    <h1 class="sub-header-font s-font-size">ecstasy</h1>
                                    <img src="assets/stock2.jpg" alt="stock2"
                                        class="collapsed-item-card-image">
                                    <p class="paragraph-font xs-font-size">RM
                                        1.00</p>
                                </div>
                                <div class="collapsed-item-card">
                                    <h1 class="sub-header-font s-font-size">ecstasy</h1>
                                    <img src="assets/stock2.jpg" alt="stock2"
                                        class="collapsed-item-card-image">
                                    <p class="paragraph-font xs-font-size">RM
                                        1.00</p>
                                </div>
                                <div class="collapsed-item-card">
                                    <h1 class="sub-header-font s-font-size">ecstasy</h1>
                                    <img src="assets/stock2.jpg" alt="stock2"
                                        class="collapsed-item-card-image">
                                    <p class="paragraph-font xs-font-size">RM
                                        1.00</p>
                                </div>
                            </div>
                            <div class="showmore">
                                <div class="showmore-button">
                                    <p class="action-call-font
                                        s-font-size paragraph-font-color">show
                                        more</p>
                                    <img src="util/arrow.svg" alt="arrow">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end of content -->
                </div>
            </div>
            <script>

            let interval = 0;
            // load other pages after the landing page is loaded, to decrease the load time of the other pages to nearly instant.
            let loadHomePage = Function;
            let loadShopsPage = Function;
            let loadCartPage = Function;
            let loadAboutPage = Function;
            let loadLoginSignupPage = Function;

            function loadStateJs() {
                stateScript = document.createElement('script');
                stateScript.type = 'text/javascript';
                stateScript.async = true;
                stateScript.type = 'module';
                stateScript.src = 'state.js';
                document.body.appendChild(stateScript);
            }

            // javascript for mobile side nav
            let mobileSideNav = document.querySelector('.mobile-side-nav');
            document.body.addEventListener('click', (e) => {
                if (!e.target.className.includes('mobile-side-nav')
                    && !e.target.className.includes('ham-burger')) {
                    collapseSideNav();
                }
            })
            function expandSideNav() {
                mobileSideNav.style.right = '0px';
                mobileSideNav.style.boxShadow = '0px 0px 100px rgba(0, 0, 0, 0.25)';
            }
            function collapseSideNav() {
                mobileSideNav.style.right = '-50vw';
                mobileSideNav.style.boxShadow = 'none';
            }
        </script>
            <footer class="center-horizontal footer">
                <div class="container center-horizontal">
                    <div class="item-list center-horizontal">
                        <ul class="list-unstyled">
                            <p class="sub-header-font s-font-size">Explore</p>
                            <li class="paragraph-font xs-font-size"><a>Home</a></li>
                            <li class="paragraph-font xs-font-size"><a>Shops</a></li>
                            <li class="paragraph-font xs-font-size"><a>Cart</a></li>
                            <li class="paragraph-font xs-font-size"><a>About</a></li>
                        </ul>
                    </div>
                    <div class="item-list center-horizontal">
                        <ul class="list-unstyled">
                            <p class="sub-header-font s-font-size">Office</p>
                            <li class="paragraph-font xs-font-size"><a>Sitemap</a></li>
                            <li class="paragraph-font xs-font-size"><a>Location</a></li>
                        </ul>
                    </div>
                    <div class="item-list center-horizontal">
                        <ul class="list-unstyled">
                            <p class="sub-header-font s-font-size">Connect</p>
                            <li class="paragraph-font xs-font-size"><a>Facebook</a></li>
                            <li class="paragraph-font xs-font-size"><a>Instagram</a></li>
                            <li class="paragraph-font xs-font-size"><a>Twitter</a></li>
                            <li class="paragraph-font xs-font-size"><a>LinkedIn</a></li>
                        </ul>
                    </div>
                    <div class="item-list center-horizontal">
                        <ul class="list-unstyled">
                            <p class="sub-header-font s-font-size">Contact</p>
                            <li class="paragraph-font xs-font-size"><a>+60
                                    013833</a></li>
                            <li class="paragraph-font xs-font-size"><a>+60
                                    18039503</a></li>
                        </ul>
                    </div>
                </div>
            </footer>
        </body>
    </html>